(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;a=self;b=a.WebApp=a.WebApp||{};c=b.Articles=b.Articles||{};d=c.Article=c.Article||{};e=d.Span=d.Span||{};f=d.ImageType=d.ImageType||{};g=d.Block=d.Block||{};h=d.Section=d.Section||{};i=d.Article=d.Article||{};j=b.Client=b.Client||{};k=a.WebSharper;l=k&&k.UI;m=l&&l.Doc;n=l&&l.AttrProxy;o=k&&k.List;p=l&&l.Var$1;q=l&&l.Submitter;r=l&&l.View;s=k&&k.Remoting;t=s&&s.AjaxRemotingProvider;u=k&&k.Concurrency;e.New=function(v,w){return{SpanText:v,Classes:w};};f.New=function(v,w,x){return{AltText:v,Description:w,Src:x};};g.New=function(v){return{Type:v};};h.New=function(v,w){return{Title:v,Blocks:w};};i.New=function(v,w,x,y,z){return{Name:v,Title:w,Summary:x,ImageUrl:y,Sections:z};};d.renderArticle=function(v){var w,x,y;w=m.Element("h1",[n.Create("class","article-title")],[m.TextNode(v.Title)]);x=o.ofArray([n.Create("src",v.ImageUrl)]);y=new o.T({$:1,$0:w,$1:new o.T({$:1,$0:m.Element("p",[n.Create("class","article-summary")],[m.TextNode(v.Summary)]),$1:o.map(d.renderSection,o.ofSeq(v.Sections))})});return o.ofArray([m.Element("div",[n.Create("class","article")],y)]);};d.renderSection=function(v){var w;w=new o.T({$:1,$0:m.Element("h2",[n.Create("class","section-title")],[m.TextNode(v.Title)]),$1:o.map(d.renderBlock,o.ofSeq(v.Blocks))});return m.Element("div",[n.Create("class","section")],w);};d.renderBlock=function(v){var w;w=v.Type;return w.$==1?d.renderOrderedList(w.$0):w.$==2?d.renderParagraph(w.$0):w.$==3?d.renderImage(w.$0):w.$==4?d.renderCode(w.$0):d.renderOrderedList(w.$0);};d.renderCode=function(v){return m.Element("code",[n.Create("class","code")],[m.TextNode(v)]);};d.renderImage=function(v){return m.Element("div",[],[m.Element("img",[n.Create("src",v.Src)],[]),m.Element("small",[n.Create("class","image-description")],[m.TextNode(v.Description)])]);};d.renderUnorderedList=function(v){return m.Element("ul",[],o.map(d.renderListItem,o.ofSeq(v)));};d.renderOrderedList=function(v){return m.Element("ol",[],o.map(d.renderListItem,o.ofSeq(v)));};d.renderListItem=function(v){return v.$==1?m.Element("li",[],o.map(d.renderParagraph,o.ofSeq(v.$0))):m.Element("li",[],[m.TextNode(v.$0)]);};d.renderParagraph=function(v){return v.$==1?m.Element("p",[],o.map(d.renderSpan,o.ofSeq(v.$0))):m.Element("p",[],[m.TextNode(v.$0)]);};d.renderSpan=function(v){return m.Element("span",[n.Create("class",v.Classes)],[m.TextNode(v.SpanText)]);};j.Main=function(){var v,w,x;v=p.Create$1("");w=q.CreateOption(v.get_View());x=r.MapAsync(function(y){var z;return y!=null&&y.$==1?(new t.New()).Async("WebApp:WebApp.Server.DoSomething:-1259710604",[y.$0]):(z=null,u.Delay(function(){return u.Return("");}));},w.view);return m.Element("div",[],[m.Input([],v),m.Button("Send",[],function(){w.Trigger();}),m.Element("hr",[],[]),m.Element("h4",[n.Create("class","text-muted")],[m.TextNode("The server responded:")]),m.Element("div",[n.Create("class","jumbotron")],[m.Element("h1",[],[m.TextView(x)])])]);};}());
